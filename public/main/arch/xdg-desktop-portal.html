<!DOCTYPE html>
<html lang="RU">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XDG Desktop Portal</title>
    <style>
        body {
            font-size: 16px;
            background-color: #282C34;
            color: #8AA3AD;
        }
    </style>
</head>
<body>

<h1>xdg-desktop-portal</h1>
<pre><code>
    Портал - это безопасное окошко между приложением и системой.
    
    Можно это представить так:
    У тебя есть приложение в песочнице (например, Flatpak, Snap, браузер в режиме изоляции или приложение в Wayland, которое не имеет прямого доступа к системе). Оно не может напрямую:
    - Прочитать/записать файл на диск
    - Захватить экран
    - Использовать микрофон или камеру
    - Показать диалог выбора файла
    А иногда ему это нужно. Тогда оно стучится в портал (через API xdg-desktop-portal) и говорит:
        - «Хочу, пожалуйста, файл от пользователя»
        - «Хочу, пожалуйста, захватить экран»
        - «Хочу, пожалуйста, доступ к микрофону»
</code></pre>
<h3>Чем это полезно</h3>
<ul>
    <li><b>Безопасность</b> - приложение не получает полный доступ, только то, что пользователь разрешил через портал.</li>
    <li><b>Универсальность</b> - приложение не нужно переписывать под каждое окружение, оно обращается к одному API, а уже портал-бэкенд (например, xdg-desktop-portal-gtk, xdg-desktop-portal-wlr) решает, как именно это сделать.</li>
    <li><b>Wayland</b> - в отличие от X11, в Wayland нет «прямого» доступа к экрану у приложений. Порталы решают эту проблему официальным способом.</li>
</ul>

<h3>Основные бэкенды</h3>
<ul>
    <li>xdg-desktop-portal-gtk — для окружений GNOME / XFCE / MATE.</li>
    <li>xdg-desktop-portal-kde — для KDE Plasma.</li>
    <li>xdg-desktop-portal-lxqt — для LXQt.</li>
    <li>xdg-desktop-portal-wlr — для композиторов wlroots (Sway, River, Wayfire).</li>
</ul>

<pre><code>
    Портал - это «шлюз» для контролируемого доступа приложений к функциям рабочего окружения.
</code></pre>

</body>
</html>